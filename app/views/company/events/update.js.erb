if($.magnificPopup.instance.content) {
  calendar.getEventSources()[0].refetch();
  $.magnificPopup.close();
}
<% if @event.valid? %>
showSnackbarSuccess("Event updated successfully");
<% else %>
showSnackbarError("Event not updated");
<% end %>